import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:google_fonts/google_fonts.dart';import 'package:texnomart_clone_flutter/presenter/favortie/favourite_bloc.dart';import '../data/source/local/my_hive_helper.dart';import 'main_screen.dart';class FavouriteScreen extends StatelessWidget {  const FavouriteScreen({super.key});  @override  Widget build(BuildContext context) {    return BlocProvider(      create: (context) => FavouriteBloc()..add(GetAllFavouriteProductsEvent()),      child: BlocConsumer<FavouriteBloc, FavouriteState>(        listener: (context, state) {},        builder: (context, state) {          if (state is GetAllFavouriteProductsState) {            return Scaffold(              appBar: AppBar(                automaticallyImplyLeading: false,                backgroundColor: const Color(0xFFfbc100),                title: Text('Sevimlilar',                    overflow: TextOverflow.ellipsis,                    textAlign: TextAlign.start,                    style: GoogleFonts.poppins(                        fontWeight: FontWeight.w700, fontSize: 14)),              ),              body: SafeArea(                child: Padding(                  padding: const EdgeInsets.all(8.0),                  child: ListView.builder(                      itemCount: state.data.length,                      itemBuilder: (context, index) {                        return topProducts(state.data[index],                                context,                                () {                          HiveHelper.deleteProductFromFavourite(                              state.data[index]);                               context                              .read<FavouriteBloc>()                              .add(GetAllFavouriteProductsEvent());                        });                      }),                ),              ),            );          } else {            return Scaffold(              body: SafeArea(                child: Center(                  child: CircularProgressIndicator(),                ),              ),            );          }        },      ),    );  }}